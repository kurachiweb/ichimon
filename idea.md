# 一問／Ichimon

## 作るものは何か

1アンケート1問だけのミニアンケートサービス
サイトに埋め込んでもらい、必要な時にアンケートを1問だけ表示する。
アンケートの結果・途中経過がダッシュボードから見られる。

## 特長3行

爆速
迷わせない
グラフィカル

## 機能

- 最初はユーザー登録しなくても使える
  - 情報は作成したユーザーのブラウザストレージに保存
  - 何らかの利用制限がある
  - 特定日数後に消える
  - とにかく超速く始められるように
  - 登録すれば引き継げる
- アカウント認証
  - ログイン
    - 新規登録時、ユーザーID・メールアドレスが存在するかチェック
    - メールアドレスログイン
    - ユーザーIDログイン
    - 同一IPログイン試行回数制限
    - ログイン成功/失敗時、対象アカウントにメール通知
    - 一定期間経つとログアウト
    - パスワード再設定リンクを指定ID/メールアドレスのアカウントにメール送信
    - アカウント削除後、一定期間なら復元できる
  - 2段階認証(オプション)
    - ワンタイムパスワードをメール送信
    - SMS認証は有料プランのみ
- アンケートを作る
  - 配信期間指定 or すぐに配信
  - カテゴリを1つ以上
  - 複数問設定できる
  - 対象サイト/ページを指定
  - 質問内容や選択肢についてのアドバイスも
- アンケートを編集する
  - 編集中に配信開始/終了時間が来たら?
  - 複数タブなどでの編集/削除があったら?
  - 削除する
- アンケート一覧を取得する
  - いろいろ条件絞り込み
  - 並び替え
  - ページング?無限ローディング?
  - 項目選択
    - 配信/配信停止する
    - 削除する
      - n秒間取り消し可能
    - 編集/一括編集する(オプション)
    - 全選択するときは?
- アンケート集計
  - グラフィカル表示
  - 回答数
  - 時間別/選択肢別/回答に掛かった時間別(オプション)
- 削除済みアンケート復元
  - 配信期間外だったら修正促す?
  - 配信期間内だったら誤爆?
- メール通知
  - ログイン成功/失敗
  - 2段階認証のワンタイムパスワード
  - パスワードリセット
  - アンケートを作った
  - アンケートに回答があった(即時,日次など)

## 画面

### 埋め込みサイト側

1つのJavaScriptファイルによるダイアログ

### 利用者側

- ホーム /
- マイアカウント /account
  - 新規登録 /create
  - ログイン /login
  - 2段階認証(オプション) ?
  - パスワードを忘れた /forgot-password
  - パスワードリセット /reset-password
- アンケート一覧 /survey
  - アンケート作成 /create
  - アンケート編集 /edit/:id
  - アンケート状況/結果 /view/:id
- サービスについて /about
  - 利用規約 /terms
  - プライバシーポリシー /privacy-policy
  - 特定商取引法に基づく表示 /law
  - お知らせ一覧 /notice
    - カテゴリ別お知らせ一覧 /:category
    - お知らせ /detail/:id
- ヘルプページ /help
  - よくある質問 /faq
  - お問い合わせ /contact

## API設計

HTTPメソッド: /機能名や種類名/動作
/apiは省略

POST /survey
GET /survey
GET /survey?:id
GET /survey?:id:some-search-cond
PUT /survey
DELETE /survey
